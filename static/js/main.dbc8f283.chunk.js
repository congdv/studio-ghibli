(this["webpackJsonpghibli-web-app"]=this["webpackJsonpghibli-web-app"]||[]).push([[0],{30:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(3),r=n(1),s=n(8),a=n.n(s),i=(n(30),n(12)),o=n(11),u=n(9),l=n.n(u),d=n(10),j=n(14),b=l.a.mark(f),O="movie/ALL_MOVIES";function f(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://ghibliapi.herokuapp.com/films").then((function(e){return e.json()}));case 3:return e=t.sent,t.next=6,Object(j.b)({type:O,payload:{movies:e,loaded:!0}});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),b,null,[[0,8]])}var v=f,m=(n(37),n.p+"static/media/logo.a4d05b32.png"),p=n(21),h=(n(38),function(e){var t=e.title,n=e.description,r=Object(p.a)(e,["title","description"]);return Object(c.jsxs)("div",Object(d.a)(Object(d.a)({className:"card"},r),{},{children:[Object(c.jsx)("h1",{className:"card__title",children:t}),Object(c.jsx)("p",{className:"card__description",children:n})]}))}),x=(n(39),function(){return Object(c.jsx)("div",{className:"loader",children:Object(c.jsx)("div",{className:"loader__element"})})}),_=function(e,t){Object(r.useEffect)((function(){var n=function(e){27===e.keyCode&&t()};return e&&document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}),[e,t])},y=n(22),N=function(e){var t=Object(r.useRef)();return Object(y.isEqual)(e,t.current)||(t.current=e),t.current},g=function(e,t,n,c){var s=Object(r.useRef)(),a=N([e].flat());Object(r.useEffect)((function(){var e=function(e){s.current=e.target},r=function(e){var t=a.some((function(t){return t.current.contains(s.current)||t.current.contains(e.target)}));0!==e.button||t||n()},i=(c||{}).current||document;return t&&(i.addEventListener("mousedown",e),i.addEventListener("mouseup",r)),function(){i.removeEventListener("mousedown",e),i.removeEventListener("mouseup",r)}}),[a,c,t,n])},w=(n(41),document.getElementById("root")),E=function(e){var t=e.isOpen,n=e.onClose,s=e.renderContent,o=Object(r.useState)(!1),u=Object(i.a)(o,2),l=u[0],d=u[1],j="boolean"===typeof t,b=j?t:l,O=Object(r.useRef)(),f=Object(r.useRef)(),v=Object(r.useCallback)((function(){j?n():d(!1)}),[j,n]);return g(O,b,v,f),_(b,v),Object(r.useEffect)((function(){return document.body.style.overflow="hidden",function(){document.body.style.overflow="visible"}}),[b]),Object(c.jsx)(r.Fragment,{children:b&&a.a.createPortal(Object(c.jsx)("div",{className:"scrollOverlay",children:Object(c.jsx)("div",{className:"clickableOverlay",children:Object(c.jsx)("div",{className:"modal",ref:O,children:s({close:v})})})}),w)})},k=(n(42),function(e){var t=e.movie,n=t.title,r=t.description,s=t.producer,a=t.release_date,i=t.rt_score;return Object(c.jsxs)("div",{className:"cardDetail",children:[Object(c.jsx)("h1",{className:"cardDetail__title",children:n}),Object(c.jsx)("p",{className:"cardDetail__description",children:r}),Object(c.jsxs)("p",{className:"cardDetail__section",children:[Object(c.jsx)("span",{children:"Producer:"}),s]}),Object(c.jsxs)("p",{className:"cardDetail__section",children:[Object(c.jsx)("span",{children:"Release Date:"}),a]}),Object(c.jsxs)("p",{className:"cardDetail__section",children:[Object(c.jsx)("span",{children:"Rotten Tomatoes Score:"}),i]})]})}),D=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)(null),u=Object(i.a)(a,2),l=u[0],d=u[1];console.log("HomePage -> selectedMovie",l);var j=Object(o.b)(),b=Object(o.c)((function(e){return e.movie})),f=b.loaded,v=b.movies;Object(r.useEffect)((function(){j({type:O})}),[j]);return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"logo",children:Object(c.jsx)("img",{src:m,alt:"Ghibli Studio"})}),n&&Object(c.jsx)(E,{isOpen:!0,onClose:function(){s(!1)},renderContent:function(){return Object(c.jsx)(k,{movie:l})}}),Object(c.jsx)("div",{className:"container",children:f?v.map((function(e,t){return Object(c.jsx)(h,{title:e.title,description:e.description,onClick:(n=e.id,function(){var e=v.find((function(e){return e.id===n}));d(e),s(null!==e)})},t);var n})):Object(c.jsx)(x,{})})]})};var L=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(D,{})})},C=n(7),R=n(23),S=n(24),I=Object(C.combineReducers)({movie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(d.a)(Object(d.a)({},e),t.payload);default:return e}}}),M=l.a.mark(P);function P(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.a)([v()]);case 2:case"end":return e.stop()}}),M)}var A=Object(S.a)(),B=Object(C.createStore)(I,{},Object(R.composeWithDevTools)(Object(C.applyMiddleware)(A)));A.run(P);var J=B;a.a.render(Object(c.jsx)(o.a,{store:J,children:Object(c.jsx)(L,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.dbc8f283.chunk.js.map